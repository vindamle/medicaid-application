{% extends 'base.html' %}

{% block title %}Patient Show Page{% endblock %}

{% block content %}
<div class="alertDiv">
	<div class="alert alert-danger alert-dismissible fade show" role="alert">
		<strong>Alert:</strong> RFI due within 10 days
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	<div class="alert alert-danger alert-dismissible fade show" role="alert">
		<strong>Alert:</strong> NCS Discrepancy
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
</div>

<div class="container-fluid residentInfoDiv">
	<h1 class="">{{alert.first_name}} {{alert.last_name}}</h1>
	<button class="btn" id="editBtn">Edit</button>
	
	<section>
		<h4>Personal Information:</h4>
		<ul>
			<div class="row">
				<div class="col-lg-4">
					<li><label>Resident Name:</label> <span class="editable">{{alert.first_name}} {{alert.last_name}}</span></li>
					<li><label>Date of Birth:</label> <span class="editable date">{{alert.dob|date:"M d, Y"}}</span></li>
					<li><label>Address:</label> <span class="editable">{{tracking.address}}</span></li>
				</div>
				<div class="col-lg-4">
					<li><label>City:</label> <span class="editable">{{tracking.city}}</span></li>
					<li><label>State:</label> <span class="editable">{{tracking.state}}</span></li>
					<li><label>Zip:</label> <span class="editable">{{tracking.zip}}</span></li>
				</div>

				<div class="col-lg-4">			
					<li><label>County:</label> <span class="editable">Unknown</span></li>
					<li><label>Marital Status:</label> <span class="editable">Unknown</span></li>

				<div class="col-lg-4">
					<li><label>Facility:</label> <span class="editable">{{alert.facility}}</span></li>
					<li class="invisible" id="patientId">{{alert.patient_id}}</li>
				</div>
			</div>
		</ul>
	</section>
	<section>
		<h4>Insurance Information:</h4>
		<ul>
			<div class="row">
				<div class="col-lg-4">
					<li><label>Primary Payor:</label> <span class="editable">{{alert.primary_payor}}</span></li>
					<li><label>Secondary Payor:</label> <span class="editable">{{alert.secondary_payor}}</span></li>
				</div>
				<div class="col-lg-4">
					<li><label>Copays:</label> <span class="editable">{{tracking.copays}}</span></li>
					<li><label>Copays Start Date:</label> <span class="editable">{{tracking.medicaid_pickup_date}}</span></li>
					<li><label>Secondary Insurance Copay Percentage:</label> <span class="editable"></span></li>
				</div>
				<div class="col-lg-4">
					<li><label>Last Medicare Date:</label> <span class="editable">{{tracking.medicaid_pickup_date}}</span></li>
					<li><label>Cut From Medicare/Insurance Date:</label> <span class="editable">{{tracking.medicaid_pickup_date}}</span></li>
				</div>
			</div>
		</ul>
	</section>
	<section>
		<h4>Medicaid Application Information:</h4>
		<ul>
			<div class="row">
				<div class="col-lg-4">
					<li><label>Status: </label> <span class="editable">Pending</span></li>
					<!-- <li><label>Is Medicaid Pending?</label> <span class="editable">{{tracking.is_medicaid_pending}}</span></li> -->
					<li><label>Medicaid Pickup Date:</label> <span class="editable">{{tracking.medicaid_pickup_date}}</span></li>
					<li>
						<label>Date of Medicaid Submission:</label>
						<span class="editable date">{{tracking.date_of_medicaid_submission}}</span>
					</li>
					<li><label>Application State:</label> <span class="editable">Unknown</span></li>
					<li><label>Application County:</label> <span class="editable">Unknown</span></li>
					
				</div>
				<div class="col-lg-4">
					
					<li><label>Application Type:</label> <span class="editable">{{tracking.application_type}}</span></li>
					<li><label>Spousal/Single:</label> <span class="editable">{{tracking.spousal}}</span></li>
					<li>
						<label>Estimated NAMI/Income Contribution Amount:</label> 
						<span class="editable">Unknown</span>
					</li>
					<li><label>Short-term/Long-Term Care:</label> <span class="editable">{{tracking.ltc}}</span></li>
					<li><label>Spousal Refusal:</label> <span class="editable">Unknown</span></li>
					
				</div>
				<div class="col-lg-4">
					<li>
						<label>Date of appointment with applicant (if required):</label> 
						<span class="editable date">{{tracking.date_of_medicaid_recertification}}</span>
					</li>
					<li><label>DSS Contact Address:</label> <span class="editable">Unknown</span></li>
					<li><label>DSS Contact Phone:</label> <span class="editable">Unknown</span></li>
					<li><label>DSS Contact Email:</label> <span class="editable">Unknown</span></li>
					<li><label>DSS Contact Fax:</label> <span class="editable">Unknown</span></li>
					<!-- <li>
						<label>Date of Medicaid Approval:</label>
						 <span class="editable date">{{tracking.date_of_medicaid_approval}}</span>
					</li>
					<li>
						<label>Date of Medicaid Recertification:</label>
						<span class="editable date">{{tracking.date_of_medicaid_recertification}}</span>
					</li>
					<li>
						<label>NAMI/Income Contribution Amount:</label> 
						<span class="editable">Unknown</span>
					</li> -->
				</div>
			</div>
			<!-- <div class="row">
				<div class="col-lg-4">
					
				</div>
			</div> -->
		</ul>
	</section>

	<section>
		<h4>Document Information:</h4>
		<ul>
			<div class="row">
				<div class="col-lg-4">
					<form class="fileInputLi" id="medicaid_application" method="post" enctype="multipart/form-data">
		  			{% csrf_token %}
<<<<<<< HEAD
						<label>Upload Medicaid Application Here:</label> 
						<input type="file" name="medicaid_application" value="{{tracking.medicaid_application}}" accept="image/jpeg
						,image/png,application/pdf" multiple>
=======
						<label>Upload Medicaid Application Here:</label>
						<input type="file"  class = "form-control-file" name="files" multiple="multiple" accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" required/>
>>>>>>> a857fb8d372af282b38ddc9f446d2fb7853092a7
						<input type="hidden" name="patient_id" value="{{alert.patient_id}}">
						<input type="hidden" name="file_type" value="medicaid_application">
						<button type="submit" class="uploadBtn">Upload</button>
					</form>
					<form class="fileInputLi" id="medicaid_comfirmation" method="post" enctype="multipart/form-data">
			 			{% csrf_token %}
<<<<<<< HEAD
						<label>Upload Medicaid Confirmation Here:</label> 
						<input type="file" name="medicaid_confirmation" value="{{tracking.medicaid_comfirmation}}" accept="image/jpeg
						,image/png,application/pdf" multiple>
=======
						<label>Upload Medicaid Confirmation Here:</label>
						<input type="file" name="medicaid_confirmation" value="{{tracking.medicaid_comfirmation}}" multiple>
>>>>>>> a857fb8d372af282b38ddc9f446d2fb7853092a7
						<input type="hidden" name="patient_id" value="{{alert.patient_id}}">
						<input type="hidden" name="file_type" value="medicaid_confirmation">
						<button type="submit" class="uploadBtn">Upload</button>
					</form>
				</div>
				<div class="col-lg-4">
					<form class="fileInputLi" id="rfi" method="post" enctype="multipart/form-data">
			 			{% csrf_token %}
<<<<<<< HEAD
						<label>Upload Medicaid RFI Here:</label> 
						<input type="file" name="rfi" value="{{tracking.rfi}}" accept="image/jpeg
						,image/png,application/pdf" multiple>
=======
						<label>Upload Medicaid RFI Here:</label>
						<input type="file" name="rfi" value="{{tracking.rfi}}" multiple>
>>>>>>> a857fb8d372af282b38ddc9f446d2fb7853092a7
						<input type="hidden" name="patient_id" value="{{alert.patient_id}}">
						<input type="hidden" name="file_type" value="rfi">


						<button type="submit" class="uploadBtn">Upload</button>
					</form>
					<form class="fileInputLi" id="medicaid_approval" method="post" enctype="multipart/form-data">
			 			{% csrf_token %}
<<<<<<< HEAD
						<label>Upload Medicaid Approval Here:</label> 
						<input type="file" name="medicaid_approval" value="{{tracking.medicaid_approval}}" accept="image/jpeg
						,image/png,application/pdf" multiple>
=======
						<label>Upload Medicaid Approval Here:</label>
						<input type="file" name="medicaid_approval" value="{{tracking.medicaid_approval}}" multiple>
>>>>>>> a857fb8d372af282b38ddc9f446d2fb7853092a7
						<input type="hidden" name="patient_id" value="{{alert.patient_id}}">
						<input type="hidden" name="file_type" value="medicaid_approval">
						<button type="submit" class="uploadBtn">Upload</button>
					</form>
				</div>
				<div class="col-lg-4">
					<li><label>Date of RFI:</label> <span class="editable date">{{tracking.date_of_rfi}}</span></li>
					<li><label>Date of Deadline:</label> <span class="editable date">{{tracking.date_of_deadline}}</span></li>
					<!-- <li>(More info, places to upload documents, etc.)</li> -->
				</div>
			</div>
		</ul>
	</section>
	<!-- <div class="approveBtnDiv"> -->
		<button class="btn btn-success centered" id="approveBtn">Approve</button>
	<!-- </div> -->
	<section id="approvedSection">
		<h4>Approval Information:</h4>
		<ul>
			<div class="row">
				<div class="col-lg-4">
					<li>
						<label>Approval Notice Date:</label>
						 <span class="editable date">{{tracking.date_of_medicaid_approval}}</span>
					</li>
					<li>
						<label>Approval Start Date:</label>
						 <span class="editable date">{{tracking.date_of_medicaid_approval}}</span>
					</li>
					<li>
						<label>Approval End Date:</label>
						 <span class="editable date">{{tracking.date_of_medicaid_approval}}</span>
					</li>
					
					<!-- <li><label>Status: </label> <span class="editable">Pending</span></li> -->
					<!-- <li><label>Is Medicaid Pending?</label> <span class="editable">{{tracking.is_medicaid_pending}}</span></li> -->
					<!-- <li><label>Medicaid Pickup Date:</label> <span class="editable">{{tracking.medicaid_pickup_date}}</span></li> -->
					<!-- <li> -->
						<!-- <label>Date of appointment with applicant (if required):</label>  -->
						<!-- <span class="editable date">{{tracking.date_of_medicaid_recertification}}</span> -->
					<!-- </li> -->
				</div>
				<div class="col-lg-4">
					<li>
						<label>NAMI/Income Contribution Amount:</label> 
						<span class="editable">Unknown</span>
					</li>
					<li>
						<label>Fair Hearing Required?</label> 
						<span class="editable">Unknown</span>
					</li>
					<li>
						<label>Date of Medicaid Recertification:</label> 
						<span class="editable date">{{tracking.date_of_medicaid_recertification}}</span>
					</li>
					<!-- <li>
						<label>Date of Medicaid Submission:</label> 
						<span class="editable date">{{tracking.date_of_medicaid_submission}}</span>
					</li>
					<li><label>Application Type:</label> <span class="editable">{{tracking.application_type}}</span></li>
					<li><label>Spousal/Single?</label> <span class="editable">{{tracking.spousal}}</span></li>
					<li><label>Short-term/Long-Term Care?</label> <span class="editable">{{tracking.ltc}}</span></li>
					<li><label>Spousal Refusal?</label> <span class="editable">Unknown</span></li> -->
				</div>
				<div class="col-lg-4">
					
				</div>
			</div>
		</ul>
	</section>
</div>
{% endblock %}
{% load static %}
{% block scripts %}
<script src="{% static 'js/show.js' %}"></script>
{% endblock %}

<!--
•	Any admission that is Medicaid (or MLTC) should have a page created. The page should have:
o	Name of resident (preferably generated from NCS)
o	Admission date (preferably generated from NCS)
o	Medicaid Pickup Date (i.e. the date from which Medicaid is needed to cover)
o	Application type (New application, conversion, recertification – single, spousal, SSI)
o	County in which the application is being filed (specific to most states which have a county system)
o	Applicant resource information
o	Income and NAMI information (preferably generated from NCS)

Application History
The program should include the following fields for data entry
•	Date of application submission
o	Field to upload the Medicaid application (requirements will vary by state)
o	Field to upload confirmation of receipt by the Medicaid office
•	Date of RFI issued by the Medicaid Office
o	Field to upload RFI
•	Date of RFI deadline
•	Items required for the RFI (have it become a checklist once typed in as we have in some other programs)
•	Note section for correspondence with the Medicaid office
If approved
•	Date of Medicaid approval
o	Field to upload Medicaid approval
•	Date recertification is needed
If denied
•	Date of Medicaid Denial
o	Field to upload Medicaid denial
•	Date of fair hearing request
o	Field to upload confirmation of fair hearing request
•	Date of fair hearing
o	Field to upload fair hearing notice
•	Denial triggers the need for new application which should restart the process
-->
